(this["webpackJsonpreact-atidim"]=this["webpackJsonpreact-atidim"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},60:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(19),s=c.n(r),i=(c(35),c(36),c(7)),l=c(6),o=c(0);var d=function(e){return Object(o.jsx)("div",{style:{backgroundImage:"url(/images/slider_img.png)"},className:"strip_home container-fluid d-flex align-item-center",children:Object(o.jsx)("div",{className:"container text-center",children:Object(o.jsx)("h2",{children:"  welcome to my webSide"})})})};c(38);var j=function(e){return Object(o.jsx)(a.a.Fragment,{children:Object(o.jsx)(d,{})})};var b=function(e){return Object(o.jsx)("footer",{className:"footer-client  container-fluid bg-dark text-white",children:Object(o.jsx)("div",{className:"container text-center",children:"All right reserved to natan"})})},u=c(30);var m=function(e){return Object(o.jsx)("header",{className:"shadow header-client container-fluid",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("div",{className:"row justify-content-between align-items-center",children:[Object(o.jsx)("div",{className:"logo col-md-auto",children:Object(o.jsx)(i.b,{to:"/",children:Object(o.jsx)("h2",{children:"Koko makolet"})})}),Object(o.jsx)("nav",{className:"col-md-auto",children:Object(o.jsxs)("div",{className:"d-md-flex align-items-center",children:[Object(o.jsxs)("div",{className:"links_header me-md-3",children:[Object(o.jsx)(i.b,{to:"/",children:"Home"}),Object(o.jsx)(i.b,{to:"articelsUser",children:"Articels"}),Object(o.jsx)(i.b,{to:"#",children:"Favorites"})]}),Object(o.jsxs)("div",{className:"search_header d-flex",children:[Object(o.jsx)("input",{placeholder:"search...",type:"text",className:"form-control"}),Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)(u.a,{className:"icon1"})})]}),Object(o.jsxs)("div",{className:"log_in_out",children:[Object(o.jsx)(i.b,{to:"#",children:"Log in"}),"/",Object(o.jsx)(i.b,{to:"#",children:"Sign up"})]})]})})]})})})};c(39),c(40);var h=function(e){return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(m,{}),Object(o.jsx)(l.a,{}),Object(o.jsx)(b,{})]})},x=c(2),O=c(4),p=c(5),f=c(3),g=c.n(f),v=c(13),N=c(8),y=c(21),w=c.n(y),k="http://localhost:3002",_=function(){var e=Object(O.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t,{headers:{"x-api-key":localStorage.tok,"content-type":"application/json"}});case 3:return c=e.sent,e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(O.a)(g.a.mark((function e(t,c,n){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w()({method:c,url:t,data:JSON.stringify(n),headers:{"x-api-key":localStorage.tok,"content-type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c,n){return e.apply(this,arguments)}}();var S=function(e){var t=Object(l.g)();Object(n.useEffect)((function(){localStorage.tok?c():(N.b.error("you must be admin to be here"),t("/admin"))}),[]);var c=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/users/myInfo",e.prev=1,e.next=4,_("http://localhost:3002/users/myInfo");case 4:"admin"!=e.sent.data.role&&(N.b.error("you must be admin to be here"),t("/admin")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),N.b.error("you must be admin to be here"),t("/admin");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)(a.a.Fragment,{})};var E=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),i=Object(p.a)(s,2),d=i[0],j=i[1],b=Object(l.g)(),u=Object(v.a)(),m=u.register,h=u.handleSubmit,f=u.formState.errors,y=m("name",{required:!0,minLengt:2,maxLength:99}),w=m("info",{required:!0,minLengt:2,maxLength:99}),E=m("title",{required:!0,minLengt:2,maxLength:299}),C=m("text",{required:!0,minLengt:2,maxLength:5399}),q=m("cat_short_id",{required:!1,minLengt:2,maxLength:99}),P=m("img_url",{required:!0,minLengt:2,maxLength:600}),A=m("qty",{required:!1,min:1,max:20});Object(n.useEffect)((function(){I()}),[]);var I=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/categories",e.next=3,_("http://localhost:3002/categories");case 3:t=e.sent,console.log(t.data),r(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(O.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/products",e.prev=1,e.next=4,L("http://localhost:3002/products","POST",t);case 4:c=e.sent,console.log(c.data),c.data._id&&(N.b.success("product added"),b("/admin/products")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),alert("There problem try again leter"),b("/admin/products");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"Add new product"}),Object(o.jsxs)("form",{onSubmit:h((function(e){console.log(e),j(!0),T(e)})),className:"col-md-6 p-3 shadow",children:[Object(o.jsx)("label",{children:"Name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},y),{},{type:"text",className:"form-control"})),f.name?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid name 2 to 99"}):"",Object(o.jsx)("label",{children:"info:"}),Object(o.jsx)("textarea",Object(x.a)(Object(x.a)({},w),{},{className:"form-control",rows:"2"})),f.info?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid info 2 to 299"}):"",Object(o.jsx)("label",{children:"title:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},E),{},{type:"text",className:"form-control"})),f.title?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid title 2 to 299"}):"",Object(o.jsx)("label",{children:"text:"}),Object(o.jsx)("textarea",Object(x.a)(Object(x.a)({},C),{},{className:"form-control",rows:"3"})),f.text?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid text 2 to 5899"}):"",Object(o.jsx)("label",{children:"qty:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},A),{},{type:"number",defaultValue:"1",className:"form-control"})),f.qty?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid qty 2 to 99"}):"",Object(o.jsx)("label",{children:"category:"}),Object(o.jsxs)("select",Object(x.a)(Object(x.a)({},q),{},{className:"form-select",children:[Object(o.jsx)("option",{value:"",children:"Choose Category"}),a.map((function(e){return Object(o.jsx)("option",{value:e.short_id,children:e.name},e._id)}))]})),f.cat_short_id?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Choose one categore "}):"",Object(o.jsx)("label",{children:"img url:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},P),{},{type:"text",className:"form-control"})),f.img_url?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid img_url "}):"",Object(o.jsx)("button",{disabled:d,className:"btn btn-info mt-2",children:"Add new product"})]})]})};var C=function(e){var t=Object(n.useState)(!1),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(l.g)(),i=Object(v.a)(),d=i.register,j=i.handleSubmit,b=i.formState.errors,u=d("name",{required:!0,minLengt:2,maxLength:99}),m=d("url_name",{required:!0,minLengt:2,maxLength:200}),h=d("img_url",{required:!0,minLengt:2,maxLength:250}),f=function(){var e=Object(O.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/categories",e.prev=1,e.next=4,L("http://localhost:3002/categories","POST",t);case 4:c=e.sent,console.log(c.data),c.data._id&&(N.b.success("Categories added"),s("/admin/categories")),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),alert("There problem try again leter"),s("/admin/categories");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"Add new product"}),Object(o.jsxs)("form",{onSubmit:j((function(e){r(!0),f(e)})),className:"col-md-6 p-3 shadow",children:[Object(o.jsx)("label",{children:"Name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},u),{},{type:"text",className:"form-control"})),b.name?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid name 2 to 99"}):"",Object(o.jsx)("label",{children:"url name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},m),{},{type:"text",className:"form-control"})),b.url_nameRef?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid url_name 2 to 200"}):"",Object(o.jsx)("label",{children:"Img url"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},h),{},{type:"text",className:"form-control"})),b.img_url?Object(o.jsx)("small",{className:"text-danger d-block",children:"* you need to add img_url 2 to 450"}):"",Object(o.jsx)("button",{className:"mt-4 btn btn-info",disabled:a,children:" Add new category"})]})]})};var q=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(l.g)();Object(n.useEffect)((function(){d()}),[]);var d=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/categories",e.prev=1,e.next=4,_("http://localhost:3002/categories");case 4:t=e.sent,r(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("there problem come back later"),e.t0.response&&console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(O.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete?")){e.next=15;break}return e.prev=1,c=k+"/categories/"+t,e.next=5,L(c,"DELETE",{});case 5:n=e.sent,console.log(n.data),n.data.deletedCount&&N.b.info("Category delted !"),d(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response),alert("there problem , try again later");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"List of Categoires in system"}),Object(o.jsx)(i.b,{className:"btn btn-success",to:"/admin/addcategory",children:"Add new Category"}),Object(o.jsxs)("table",{className:"table table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"name"}),Object(o.jsx)("th",{children:"url_name"}),Object(o.jsx)("th",{children:"short_id"}),Object(o.jsx)("th",{children:"Img url"}),Object(o.jsx)("th",{children:"del/edit"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.url_name}),Object(o.jsx)("td",{children:e.short_id}),Object(o.jsx)("td",{children:e.img_url}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){j(e._id)},className:"badge bg-danger mx-1",children:"X"}),Object(o.jsx)("button",{onClick:function(){s("/admin/editCategory/"+e.url_name)},className:"badge bg-info",children:"Edit"})]})]},e._id)}))})]}),0===a.length?Object(o.jsx)("h2",{children:"Loading..."}):""]})};var P=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)({}),d=Object(p.a)(s,2),j=d[0],b=d[1],u=Object(l.h)(),m=Object(l.g)(),h=Object(v.a)(),f=h.register,y=h.handleSubmit,w=h.formState.errors,E=f("name",{required:!0,minLength:2,maxLength:150}),C=f("info",{required:!0,minLength:2,maxLength:500}),q=f("title",{required:!0,minLength:2,maxLength:150}),P=f("text",{required:!0,minLength:2,maxLength:11150}),A=f("cat_short_id",{required:!0,minLength:1,maxLength:99}),I=f("img_url",{required:!1,minLength:3,maxLength:500}),T=f("qty",{required:!0,min:1,max:9999});Object(n.useEffect)((function(){V()}),[]);var V=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/categories",e.next=3,_("http://localhost:3002/categories");case 3:return t=e.sent,r(t.data),c=k+"/products/single/"+u.id,e.next=8,_(c);case 8:n=e.sent,console.log(n.data),b(n.data);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(O.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k+"/products/"+u.id,e.prev=1,e.next=4,L(c,"PUT",t);case 4:e.sent.data.modifiedCount?(N.b.info("Product updated"),m("/admin/products")):N.b.warning("You not change nothing for update"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),alert("There problem try again later");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"continer",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"updated  product"}),j._id?Object(o.jsxs)("form",{onSubmit:y((function(e){U(e)})),className:"col-md-6 p-3 shadow",children:[Object(o.jsx)("label",{children:"Name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:j.name},E),{},{type:"text",className:"form-control"})),w.name?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid name 2 to 99 chars"}):"",Object(o.jsx)("label",{children:"Info:"}),Object(o.jsx)("textarea",Object(x.a)(Object(x.a)({defaultValue:j.info},C),{},{className:"form-control",rows:"3"})),w.info?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid info, 3 to 500 chars"}):"",Object(o.jsx)("label",{children:"title:"}),Object(o.jsx)("textarea",Object(x.a)(Object(x.a)({defaultValue:j.title},q),{},{className:"form-control",rows:"3"})),w.title?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid info, 3 to 500 chars"}):"",Object(o.jsx)("label",{children:"text:"}),Object(o.jsx)("textarea",Object(x.a)(Object(x.a)({defaultValue:j.text},P),{},{className:"form-control",rows:"3"})),w.text?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid info, 3 to 500 chars"}):"",Object(o.jsx)("label",{children:"Qty (amount in the stock):"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:j.qty},T),{},{type:"number",className:"form-control"})),w.qty?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid  qty, between 1 to 9999"}):"",Object(o.jsx)("label",{children:"Category:"}),Object(o.jsxs)("select",Object(x.a)(Object(x.a)({defaultValue:j.cat_short_id},A),{},{className:"form-select",children:[Object(o.jsx)("option",{value:"",children:"Choose Category"}),a.map((function(e){return Object(o.jsx)("option",{value:e.short_id,children:e.name},e._id)}))]})),w.cat_short_id?Object(o.jsx)("small",{className:"text-danger d-block",children:"You must choose category from the list "}):"",Object(o.jsx)("label",{children:"Img url:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:j.img_url},I),{},{type:"text",className:"form-control"})),w.img_url?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid  img url "}):"",Object(o.jsx)("button",{className:"btn btn-info mt-2 mx-1",children:"Add new product"}),Object(o.jsx)(i.b,{className:"btn btn-danger mt-2",to:"/admin/products",children:"Canel"})]}):Object(o.jsx)("h2",{children:"Loading..."})]})};var A=function(e){var t=Object(l.g)();return Object(o.jsxs)("div",{className:"header_admin container-fluid bg-dark d-flex align-items-center",children:[Object(o.jsx)("h2",{className:"text-white col-auto me-4",children:"Admin panel"}),Object(o.jsxs)("nav",{className:"col-md-9",children:[Object(o.jsx)(i.b,{to:"/admin/products",children:"Products"}),Object(o.jsx)(i.b,{to:"/admin/categories",children:"Categories"}),Object(o.jsx)(i.b,{to:"/admin/users",children:"Users"}),Object(o.jsx)(i.b,{to:"/",children:"home"}),Object(o.jsx)("button",{onClick:function(){window.confirm("are you sure you want to logout?")&&t("/admin/logout")},className:"btn_loguot  w-15  float-md-end",children:"Logout"})]})]})};c(60);var I=function(e){return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(A,{}),Object(o.jsx)(l.a,{})]})};var T=function(e){var t=Object(l.g)(),c=Object(v.a)(),n=c.register,a=c.handleSubmit,r=c.formState.errors,s=function(){var e=Object(O.a)(g.a.mark((function e(c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/users/login",e.prev=1,e.next=4,L("http://localhost:3002/users/login","POST",c);case 4:n=e.sent,console.log(n.data),n.data.token?(localStorage.setItem("tok",n.data.token),t("/admin/products"),N.b.info("welcome back")):N.b.error("There some error come back later..."),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N.b.error(e.t0.response.data.err),console.log(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),i=n("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i}),d=n("password",{required:!0,minLength:3});return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h1",{children:" LoginAdmin to system"}),Object(o.jsxs)("form",{onSubmit:a((function(e){console.log(e),s(e)})),className:"col-md-6 p-3 border",children:[Object(o.jsx)("label",{children:"Email"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},i),{},{type:"text",className:"form-control"})),r.email?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Email invalid "}):"",Object(o.jsx)("label",{children:"Password:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({},d),{},{type:"text",className:"form-control"})),r.password?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter  Password invalid you need min 3 chars"}):"",Object(o.jsx)("button",{className:"btn btn-info mt-4",children:"Login"})]})]})},V=c(9);var U=function(e){var t=Object(l.g)(),c=Object(n.useState)(0),a=Object(p.a)(c,2),r=a[0],s=a[1];Object(n.useEffect)((function(){i()}));var i=function(){var t=Object(O.a)(g.a.mark((function t(){var c,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.apiUrlAmount,t.next=3,_(c);case 3:n=t.sent,s(Math.ceil(n.data.amount/e.perPage));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"my-3",children:Object(V.a)(Array(r)).map((function(c,n){return Object(o.jsx)("button",{className:e.clsCss,onClick:function(){t(e.urlLinkTo+"?page="+(n+1))},children:n+1})}))})};var F=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(1),d=Object(p.a)(s,2),j=d[0],b=d[1],u=Object(n.useState)({}),m=Object(p.a)(u,2),h=m[0],x=m[1],f=Object(l.g)(),v=Object(l.f)();Object(n.useEffect)((function(){y()}),[v]);var y=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c,n,a,s,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k+"/categories",e.next=4,_("http://localhost:3002/categories");case 4:return t=e.sent,console.log(t.data),c=t.data,n={},c.forEach((function(e){n[e.short_id]=e.name})),x(n),a=new URLSearchParams(window.location.search),s=a.get("page")||1,b(s),i=k+"/products?page="+s,e.next=16,_(i);case 16:l=e.sent,r(l.data),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),alert("there problem come back later"),e.t0.response&&console.log(e.t0.response.data);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(O.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete?")){e.next=15;break}return e.prev=1,c=k+"/products/"+t,e.next=5,L(c,"DELETE",{});case 5:n=e.sent,console.log(n.data),n.data.deletedCount&&N.b.info("product delted !"),y(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response),alert("there problem , try again later");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"List of articles in system"}),Object(o.jsx)(i.b,{to:"/admin/addProduct",className:"btn btn-success",children:"Add new product"}),Object(o.jsx)(U,{perPage:"5",apiUrlAmount:k+"/products/amount",urlLinkTo:"/admin/products",clsCss:"btn btn-dark me-1"}),Object(o.jsxs)("table",{className:"table table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"# "}),Object(o.jsx)("th",{children:"name"}),Object(o.jsx)("th",{children:"info "}),Object(o.jsx)("th",{children:"title "}),Object(o.jsx)("th",{children:"short_id "}),Object(o.jsx)("th",{children:"text "}),Object(o.jsx)("th",{children:"qty "}),Object(o.jsx)("th",{children:"category"}),Object(o.jsx)("th",{children:"del/edit "})]})}),Object(o.jsx)("tbody",{children:a.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1+5*(j-1)}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.info}),Object(o.jsx)("td",{children:e.title}),Object(o.jsx)("td",{children:e.short_id}),Object(o.jsx)("td",{children:e.text}),Object(o.jsx)("td",{children:e.qty}),Object(o.jsx)("td",{children:h[e.cat_short_id]}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{onClick:function(){return w(e._id)},className:"badge bg-danger mt-1",children:"x"}),Object(o.jsx)("button",{onClick:function(){f("/admin/editProduct/"+e._id)},className:"badge bg-info",children:"Edit"})]})]},e._id)}))})]}),0===a.length?Object(o.jsx)("h2",{children:"Loading ..."}):""]})};var H=function(e){var t=Object(n.useState)({}),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(!1),i=Object(p.a)(s,2),d=i[0],j=i[1],b=Object(l.h)(),u=Object(l.g)(),m=Object(v.a)(),h=m.register,f=m.handleSubmit,y=m.formState.errors,w=h("name",{required:!0,minLengt:2,maxLength:99}),E=h("url_name",{required:!0,minLengt:2,maxLength:500}),C=h("img_url",{required:!0,minLengt:2,maxLength:500});Object(n.useEffect)((function(){q()}),[]);var q=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k+"/categories/single/"+b.url_name,e.next=3,_(t);case 3:c=e.sent,console.log(c.data),r(c.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(O.a)(g.a.mark((function e(t){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k+"/categories/"+a._id,e.prev=1,e.next=4,L(c,"PUT",t);case 4:n=e.sent,console.log(n.data),n.data.modifiedCount?(N.b.success("Categories updated"),u("/admin/categories")):N.b.warning("you not change nothing"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),alert("There problem try again leter");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"Edit  category"}),a._id?Object(o.jsxs)("form",{onSubmit:f((function(e){j(!0),P(e)})),className:"col-md-6 p-3 shadow",children:[Object(o.jsx)("label",{children:"Name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:a.name},w),{},{type:"text",className:"form-control"})),y.name?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid name 2 to 99"}):"",Object(o.jsx)("label",{children:"url name:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:a.url_name},E),{},{type:"text",className:"form-control"})),y.url_name?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid url_name 2 to 500"}):"",Object(o.jsx)("label",{children:"Img url:"}),Object(o.jsx)("input",Object(x.a)(Object(x.a)({defaultValue:a.img_url},C),{},{type:"text",className:"form-control"})),y.img_url?Object(o.jsx)("small",{className:"text-danger d-block",children:"* Enter valid url_name 2 to 500"}):"",Object(o.jsx)("button",{className:"mt-4 btn btn-warning",disabled:d,children:" update new category"})]}):Object(o.jsx)("h2",{children:"Loading..."})]})};var J=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/users/usersList",e.prev=1,e.next=4,_("http://localhost:3002/users/usersList");case 4:t=e.sent,r(t.data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("there problem come back later"),e.t0.response&&console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(O.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(O.a)(g.a.mark((function e(t,c){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=k+"/users/changeRole/".concat(t,"/").concat(c),e.prev=1,e.next=4,L(n,"PATCH",{});case 4:e.sent.data.modifiedCount&&s(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),alert("there problem come back later"),e.t0.response&&console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,c){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(S,{}),Object(o.jsx)("h1",{children:"List of Users in system"}),Object(o.jsxs)("table",{className:"table table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:"name"}),Object(o.jsx)("th",{children:"email"}),Object(o.jsx)("th",{children:"address"}),Object(o.jsx)("th",{children:"role"}),Object(o.jsx)("th",{children:"del"})]})}),Object(o.jsx)("tbody",{children:a.map((function(e,t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t+1}),Object(o.jsx)("td",{children:e.name}),Object(o.jsx)("td",{children:e.email}),Object(o.jsx)("td",{children:e.address}),Object(o.jsx)("td",{children:"admin"===e.role?Object(o.jsx)("button",{onClick:function(){l(e._id,"user")},className:"btn btn-warning",children:"admin"}):Object(o.jsx)("button",{onClick:function(){l(e._id,"admin")},className:"btn btn-dark",children:"user"})}),Object(o.jsx)("td",{children:Object(o.jsx)("button",{onClick:function(){i(e._id)},className:"badge bg-danger",children:"X"})})]},e._id)}))})]}),0===a.length?Object(o.jsx)("h2",{children:"Loading..."}):""]})};var R=function(e){var t=Object(l.g)();return Object(n.useEffect)((function(){localStorage.removeItem("tok"),t("/admin"),N.b.info("you log out from system ")}),[]),Object(o.jsx)("div",{children:" please wait... to log out."})};c(61);var Z=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k+"/categories",e.next=3,_("http://localhost:3002/categories");case 3:t=e.sent,r(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"container-fluid shadow",children:Object(o.jsxs)("div",{className:"container py-4 categories_list",children:[Object(o.jsx)("h2",{className:"text-center",children:"Coose category of product you want to read"}),Object(o.jsx)("div",{className:"row",children:a.map((function(e){return Object(o.jsx)(i.b,{to:"/products/"+e.url_name,className:"myCard col-md-4 p-3  ",children:Object(o.jsxs)("div",{className:"shadow bg-dark text-white",children:[Object(o.jsx)("div",{style:{backgroundImage:"url(".concat(e.img_url||"/images/logo512.jpg",")")},className:"img_card"}),Object(o.jsx)("h3",{className:"p-2 text-center",children:e.name})]})},e._id)}))})]})})};var D=function(e){return Object(o.jsx)("div",{style:{backgroundImage:"url(/images/img_slider.jpg)"},className:"strip_articels container-fluid d-flex align-item-center",children:Object(o.jsx)("div",{className:"container text-center",children:Object(o.jsx)("h2",{className:"h1",children:"  welcome to  articels to onle for registeres"})})})},M=(c(62),"visitedProduct"),X=function(e){var t=localStorage.visitedProduct?localStorage.visitedProduct.split(","):[];t.includes(e)||(t.unshift(e),t.splice(4,t.length),console.log(t),localStorage.setItem(M,t.join(",")))};var Y=function(e){var t=e.item;return Object(o.jsx)("div",{className:"product-item col-md-3 p-2",children:Object(o.jsxs)("div",{className:"shadow",children:[Object(o.jsx)("div",{style:{backgroundImage:"url(".concat(t.img_url||"/images/logo512.png",")")},className:"product-img"}),Object(o.jsxs)("div",{className:"p-2",children:[Object(o.jsx)("h4",{children:t.name}),Object(o.jsxs)("div",{className:"text-start",children:["info: ",t.info]}),Object(o.jsx)("div",{className:"text-center my-2",children:Object(o.jsx)(i.b,{className:"btn btn-dark w-50",to:"/productInfo/"+t._id,children:"More info"})})]})]})})};var B=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){s()}),[]);var s=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.visitedProduct?localStorage.visitedProduct:null,c=t?k+"/products/visited?visited="+t:k+"/products?perPage=4",e.next=4,_(c);case 4:n=e.sent,console.log(n.data),r(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("div",{className:"container p-4",children:[localStorage.visitedProduct?Object(o.jsx)("h2",{className:"text-center text-info",children:"product you intersted in "}):Object(o.jsx)("h2",{className:"text-center mt-2",children:"new Product in our side"}),Object(o.jsx)("div",{className:"row",children:a.map((function(e){return Object(o.jsx)(Y,{item:e},e._id)}))})]})};var K=function(e){return Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)(D,{}),Object(o.jsx)(Z,{}),Object(o.jsx)(B,{})]})};var Q=function(e){var t=Object(n.useState)([]),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(l.h)();Object(n.useEffect)((function(){i()}),[]);var i=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c,n,a,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=k+"/categories/single/"+s.cat_url,e.next=3,_(c);case 3:return n=e.sent,a=null===(t=n.data)||void 0===t?void 0:t.short_id,i=k+"/products/?perPage=8&cat="+a,e.next=8,_(i);case 8:l=e.sent,r(l.data);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"container-fluid",style:{minHeight:"85vh"},children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)("h1",{className:"text-center",children:["Categories of ",s.cat_url]}),0==a.length?Object(o.jsx)("h2",{children:"Loading..."}):"",Object(o.jsx)("div",{className:"row",children:a.map((function(e){return Object(o.jsx)(Y,{item:e},e._id)}))})]})})};var $=function(e){var t=Object(n.useState)({}),c=Object(p.a)(t,2),a=c[0],r=c[1],s=Object(l.h)(),i=Object(l.g)();Object(n.useEffect)((function(){d()}),[]);var d=function(){var e=Object(O.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k+"/products/single/"+s.id,e.next=3,_(t);case 3:c=e.sent,console.log(c.data),r(c.data),X(c.data.short_id);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsx)("div",{className:"container",style:{minHeight:"85vh"},children:Object(o.jsxs)("div",{className:"row ",children:[Object(o.jsx)("div",{className:"col-md-4",children:Object(o.jsx)("img",{src:a.img_url||"/images/logo512.png",alt:a.name,className:"img-fluid img-tumbnall shadow"})}),Object(o.jsxs)("div",{className:"col-md-8 ",children:[Object(o.jsxs)("h2",{className:"display-4",children:[" ",a.name]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"info: "})," ",a.info]}),Object(o.jsxs)("h3",{children:["title: ",a.title]}),Object(o.jsxs)("h2",{children:["text: ",a.text]}),Object(o.jsx)("button",{onClick:function(){i(-1)},className:"btn btn-dark",children:"back"})]})]})})};var z=function(e){return Object(o.jsxs)(i.a,{children:[Object(o.jsxs)(l.d,{children:[Object(o.jsxs)(l.b,{path:"/admin",element:Object(o.jsx)(I,{}),children:[Object(o.jsx)(l.b,{index:!0,element:Object(o.jsx)(T,{})}),Object(o.jsx)(l.b,{path:"/admin/products",element:Object(o.jsx)(F,{})}),Object(o.jsx)(l.b,{path:"/admin/addProduct",element:Object(o.jsx)(E,{})}),Object(o.jsx)(l.b,{path:"/admin/editProduct/:id",element:Object(o.jsx)(P,{})}),Object(o.jsx)(l.b,{path:"/admin/editCategory/:url_name",element:Object(o.jsx)(H,{})}),Object(o.jsx)(l.b,{path:"/admin/categories",element:Object(o.jsx)(q,{})}),Object(o.jsx)(l.b,{path:"/admin/addCategory",element:Object(o.jsx)(C,{})}),Object(o.jsx)(l.b,{path:"/admin/users",element:Object(o.jsx)(J,{})}),Object(o.jsx)(l.b,{path:"/admin/logout",element:Object(o.jsx)(R,{})})]}),Object(o.jsxs)(l.b,{path:"/",element:Object(o.jsx)(h,{}),children:[Object(o.jsx)(l.b,{index:!0,element:Object(o.jsx)(j,{})}),Object(o.jsx)(l.b,{path:"/articelsUser",element:Object(o.jsx)(K,{})}),Object(o.jsx)(l.b,{path:"/products/:cat_url",element:Object(o.jsx)(Q,{})}),Object(o.jsx)(l.b,{path:"/productInfo/:id",element:Object(o.jsx)($,{})})]})]}),Object(o.jsx)(N.a,{position:"top-right",theme:"colored"})]})};var G=function(){return Object(o.jsx)(a.a.Fragment,{children:Object(o.jsx)(z,{})})};s.a.render(Object(o.jsx)(G,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.791ae85d.chunk.js.map